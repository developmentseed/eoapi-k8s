suite: autoscaling feedback when className is not nginx
templates:
  - templates/services/hpa.yaml
tests:
  - it: "vector hpa fail for requestRate"
    set:
      externalServices.raster.enabled: false
      externalServices.stac.enabled: false
      externalServices.vector.enabled: true
      ingress.className: "testing123"
      externalServices.vector.autoscaling.enabled: true
      externalServices.vector.autoscaling.type: "requestRate"
    asserts:
      - failedTemplate:
          errorMessage: When using an 'ingress.className' other than 'nginx' you cannot enable autoscaling by 'requestRate' at this time b/c it's solely an nginx metric
